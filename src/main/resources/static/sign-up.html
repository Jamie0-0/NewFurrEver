<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Fastkart">
    <meta name="keywords" content="Fastkart">
    <meta name="author" content="Fastkart">
    <link rel="icon" href="assets/images/favicon/1.png" type="image/x-icon">
    <title>Register</title>


    <!-- bootstrap css -->
    <link id="rtl-link" rel="stylesheet" type="text/css" href="assets/css/vendors/bootstrap.css">

    <!-- font-awesome css -->
    <link rel="stylesheet" type="text/css" href="assets/css/vendors/font-awesome.css">

    <!-- feather icon css -->
    <link rel="stylesheet" type="text/css" href="assets/css/vendors/feather-icon.css">

    <!-- Template css -->
    <link id="color-link" rel="stylesheet" type="text/css" href="assets/css/style.css">

    <!-- 自己的css -->
    <link rel="stylesheet" href="assets/css/styleGuide.css">
    <style>
        #create_member_btn,
        #create_master_btn {
            background-color: #ffcb76;
            margin-top: 10px;
        }

        #error_email {
            display: block;
        }
    </style>
</head>

<body>

    <!-- Loader Start -->
    <div class="fullpage-loader">
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
    </div>
    <!-- Loader End -->

    <!-- Header Start -->
    <header class="pb-md-4 pb-0">
        <div class="top-nav top-header sticky-header">
            <div class="container-fluid-lg">
                <div class="row">
                    <div class="col-12">
                        <div class="navbar-top">
                            <button class="navbar-toggler d-xl-none d-inline navbar-menu-button" type="button"
                                data-bs-toggle="offcanvas" data-bs-target="#primaryMenu">
                                <span class="navbar-toggler-icon">
                                    <i class="fa-solid fa-bars"></i>
                                </span>
                            </button>
                            <a href="index.html" class="web-logo nav-logo">
                                <img src="assets/images/logo/1.png" class="img-fluid blur-up lazyload" alt="">
                            </a>
                            <div class="rightside-box">
                                <ul class="right-side-menu">
                                    <li class="right-side">

                                    </li>
                                    <!-- 小鈴鐺 -->
                                    <li class="right-side">
                                        <a href="#" class="delivery-login-box">
                                            <div class="delivery-icon">
                                                <i class="fas fa-bell fa-2x fas-icon"></i>
                                            </div>
                                        </a>
                                    </li>
                                    <!-- 購物車 -->
                                    <li class="right-side">
                                        <div class="onhover-dropdown header-badge">
                                            <button type="button" class="btn p-0 position-relative header-wishlist">
                                                <i data-feather="shopping-cart"></i>
                                                <span class="position-absolute top-0 start-100 translate-middle badge">2
                                                    <span class="visually-hidden">unread messages</span>
                                                </span>
                                            </button>

                                            <div class="onhover-div">
                                                <ul class="cart-list">
                                                    <li class="product-box-contain">
                                                        <div class="drop-cart">
                                                            <a href="product-left-thumbnail.html" class="drop-image">
                                                                <!-- <img src="../assets/images/vegetable/product/1.png"
                                                                    class="blur-up lazyload" alt=""> -->
                                                            </a>

                                                            <div class="drop-contain">
                                                                <a href="product-left-thumbnail.html">
                                                                    <h5>Fantasy Crunchy Choco Chip Cookies</h5>
                                                                </a>
                                                                <h6><span>1 x</span> $80.58</h6>
                                                                <button class="close-button close_button">
                                                                    <i class="fa-solid fa-xmark"></i>
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </li>

                                                    <li class="product-box-contain">
                                                        <div class="drop-cart">
                                                            <a href="product-left-thumbnail.html" class="drop-image">
                                                                <!-- <img src="assets/images/vegetable/product/2.png"
                                                                    class="blur-up lazyload" alt=""> -->
                                                            </a>

                                                            <div class="drop-contain">
                                                                <a href="product-left-thumbnail.html">
                                                                    <h5>Peanut Butter Bite Premium Butter Cookies 600 g
                                                                    </h5>
                                                                </a>
                                                                <h6><span>1 x</span> $25.68</h6>
                                                                <button class="close-button close_button">
                                                                    <i class="fa-solid fa-xmark"></i>
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </li>
                                                </ul>

                                                <div class="price-box">
                                                    <h5>Total :</h5>
                                                    <h4 class="theme-color fw-bold">$106.58</h4>
                                                </div>

                                                <div class="button-group">
                                                    <a href="cart.html" class="btn btn-sm cart-button">View Cart</a>
                                                    <a href="checkout.html" class="btn btn-sm cart-button theme-bg-color
                                                    text-white">Checkout</a>
                                                </div>
                                            </div>
                                        </div>
                                    </li>
                                    <!-- 聊天室 -->
                                    <li class="right-side">
                                        <a href="#" class="btn p-0 position-relative header-wishlist">
                                            <i class="fab fa-rocketchat fas-icon"></i>
                                        </a>
                                    </li>
                                    <!-- 個人中心 -->
                                    <li class="right-side onhover-dropdown">
                                        <div class="delivery-login-box">
                                            <div class="delivery-icon">
                                                <i data-feather="user"></i>
                                            </div>
                                            <div class="delivery-detail">
                                                <h6>Hello,</h6>
                                                <h5>My Account</h5>
                                            </div>
                                        </div>

                                        <div class="onhover-div onhover-div-login">
                                            <ul class="user-box-name">
                                                <li class="product-box-contain">
                                                    <i></i>
                                                    <a href="login.html">登入</a>
                                                </li>

                                                <li class="product-box-contain">
                                                    <a href="sign-up.html">註冊</a>
                                                </li>

                                                <li class="product-box-contain">
                                                    <a href="forgot.html">忘記密碼</a>
                                                </li>
                                            </ul>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="container-fluid-lg">
            <div class="row">
                <div class="col-12">
                    <div class="header-nav">
                        <div class="header-nav-middle">
                            <div class="main-nav navbar navbar-expand-xl navbar-light navbar-sticky">
                                <div class="offcanvas offcanvas-collapse order-xl-2" id="primaryMenu">
                                    <div class="offcanvas-body">
                                        <ul class="navbar-nav">
                                            <li class="nav-item dropdown trip">
                                                <a class="nav-link dropdown-toggle" href="javascript:void(0)"
                                                    data-bs-toggle="dropdown">出遊</a>
                                                <ul class="dropdown-menu">
                                                    <li>
                                                        <a class="dropdown-item" href="#">舉辦活動</a>
                                                    </li>
                                                    <li>
                                                        <a class="dropdown-item" href="#">參加活動</a>
                                                    </li>
                                                </ul>
                                            </li>

                                            <li class="nav-item dropdown">
                                                <a class="nav-link" href="#">團購</a>
                                            </li>

                                            <li class="nav-item dropdown">
                                                <a class="nav-link" href="#">商城</a>
                                            </li>

                                            <li class="nav-item dropdown">
                                                <a class="nav-link" href="#">交流天地</a>
                                            </li>

                                            <li class="nav-item">
                                                <a class="nav-link" href="about.html">關於我們</a>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>
    <!-- Header End -->

    <!-- Breadcrumb Section Start -->
    <section class="breadscrumb-section pt-0">
        <div class="container-fluid-lg">
            <div class="row">
                <div class="col-12">
                    <div class="breadscrumb-contain">
                        <h2>註冊</h2>
                        <nav>
                            <ol class="breadcrumb mb-0">
                                <li class="breadcrumb-item">
                                    <a href="index.html">
                                        <i class="fa-solid fa-house"></i>
                                    </a>
                                </li>
                                <li class="breadcrumb-item active">註冊</li>
                            </ol>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Breadcrumb Section End -->

    <!-- log in section start -->
    <section class="log-in-section section-b-space">
        <div class="container-fluid-lg w-100">
            <div class="row">
                <div class="col-xxl-6 col-xl-5 col-lg-6 d-lg-block d-none ms-auto">
                    <div class="image-contain">
                        <img src="assets/images/inner-page/sign-up.png" class="img-fluid" alt="">
                    </div>
                </div>

                <div class="col-xxl-4 col-xl-5 col-lg-6 col-sm-8 mx-auto">
                    <div class="log-in-box">
                        <div class="log-in-title">
                            <h4>註冊帳號</h4>
                        </div>
                        <nav id="create_nav">
                            <div class="nav nav-tabs" id="nav-tab" role="tablist">
                                <button class="nav-link active" id="nav-home-tab" data-bs-toggle="tab"
                                    data-bs-target="#nav-home" type="button" role="tab" aria-controls="nav-home"
                                    aria-selected="true">會員註冊</button>
                                <button class="nav-link" id="nav-profile-tab" data-bs-toggle="tab"
                                    data-bs-target="#nav-profile" type="button" role="tab" aria-controls="nav-profile"
                                    aria-selected="false">廠商註冊</button>
                            </div>
                            <div id="error-messages"></div>
                            <div class="tab-content" id="nav-tabContent">
                                <div class="tab-pane fade show active" id="nav-home" role="tabpanel"
                                    aria-labelledby="nav-home-tab">

                                    <div class="input-group mb-3">
                                        <span class="input-group-text" id="basic-addon1">會員帳號(E-MAIL):</span>
                                        <input type="email" id="member_email" class="form-control" placeholder=""
                                            aria-label="Useremail" aria-describedby="basic-addon1" required>
                                    </div>
                                    <p id="error_email" class="error-msg"></p>
                                    <div class="input-group mb-3">
                                        <span class="input-group-text" id="basic-addon1">密碼:</span>
                                        <input type="password" name="password" id="member_pwd" class="form-control"
                                            placeholder="" aria-label="Userpwd" aria-describedby="basic-addon1"
                                            required>
                                    </div>
                                    <p id="error_pwd" class="error-msg"></p>
                                    <div class="input-group mb-3">
                                        <span class="input-group-text" id="basic-addon1">再次輸入密碼:</span>
                                        <input type="password" id="member_pwd2" name="password2" class="form-control"
                                            placeholder="" aria-label="Userpwd" aria-describedby="basic-addon1"
                                            required>
                                    </div>
                                    <p id="error_pwd2" class="error-msg"></p>
                                    <div class="input-group mb-3">
                                        <span class="input-group-text" id="basic-addon1">姓名:</span>
                                        <input type="text" id="member_name" class="form-control" placeholder=""
                                            aria-label="Username" aria-describedby="basic-addon1" required>
                                    </div>
                                    <p id="error_name" class="error-msg"></p>
                                    <div class="input-group mb-3">
                                        <span class="input-group-text" id="basic-addon1">手機:</span>
                                        <input type="phone" id="member_phone" class="form-control" placeholder=""
                                            aria-label="Userphone" aria-describedby="basic-addon1">
                                    </div>
                                    <p id="error_phone" class="error-msg"></p>
                                    <div class="input-group mb-3">
                                        <span class="input-group-text" id="basic-addon1">性別：</span>
                                        <select class="form-select" id="member_gender" aria-label="下拉式選項">
                                            <option selected value="0">男</option>
                                            <option value="1">女</option>
                                        </select>
                                    </div>
                                    <div class="input-group mb-3">
                                        <span class="input-group-text" id="basic-addon1">生日：</span>
                                        <input type="date" id="member_birth" class="form-control" placeholder=""
                                            aria-label="Userdate" aria-describedby="basic-addon1" required>
                                    </div>
                                    <!-- <p id="error_birth"></p> -->
                                    <div class="input-group mb-3">
                                        <span class="input-group-text" id="basic-addon1">地址：</span>
                                        <input type="text" id="member_addr" class="form-control" placeholder=""
                                            aria-label="Useraddr" aria-describedby="basic-addon1" required>
                                    </div>
                                    <p id="error_addr" class="error-msg"></p>
                                    <textarea class="form-control" id="aboutMe" rows="3" placeholder="關於我"></textarea>

                                    <div class="my-3">
                                        <td class="tds">驗證碼：</td>
                                        <td id="validimg">
                                            <input type="text" name="valistr" class="my-2" id="member-captchaInput">
                                            <img id="yzm_img" src="" style="cursor: pointer" />
                                            <span id="member-valistr_msg"></span>
                                        </td>
                                    </div>
                                    <button type="button" id="create_member_btn"
                                        class="btn-create rounded-pill w-100 btn-lg">註冊</button>
                                </div>

                                <div class="tab-pane fade" id="nav-profile" role="tabpanel"
                                    aria-labelledby="nav-profile-tab">
                                    <div class="tab-content" id="nav-tabContent">
                                        <div class="tab-pane fade show active" id="nav-home" role="tabpanel"
                                            aria-labelledby="nav-home-tab">
                                            <div class="input-group mb-3">
                                                <span class="input-group-text" id="basic-addon1">廠商帳號(統一編號):</span>
                                                <input type="text" id="company-gui" class="form-control" placeholder=""
                                                    aria-label="Companycount" aria-describedby="basic-addon1" required>
                                            </div>
                                            <p id="error_gui" class="error-msg"></p>
                                            <div class="input-group mb-3">
                                                <span class="input-group-text" id="basic-addon1">公司名稱:</span>
                                                <input type="text" id="company-name" class="form-control" placeholder=""
                                                    aria-label="Companyname" aria-describedby="basic-addon1" required>
                                            </div>
                                            <p id="error_company_name" class="error-msg"></p>
                                            <div class="input-group mb-3">
                                                <span class="input-group-text" id="basic-addon1">密碼:</span>
                                                <input type="password" id="company-pwd" class="form-control"
                                                    placeholder="" aria-label="Companypwd"
                                                    aria-describedby="basic-addon1" required>
                                            </div>
                                            <p id="error_com_pwd" class="error-msg"></p>
                                            <div class="input-group mb-3">
                                                <span class="input-group-text" id="basic-addon1">再次輸入密碼:</span>
                                                <input type="password" id="company-pwd2" class="form-control"
                                                    placeholder="" aria-label="Companypwd"
                                                    aria-describedby="basic-addon1" required>
                                            </div>
                                            <p id="error_com_pwd2" class="error-msg"></p>
                                            <div class="input-group mb-3">
                                                <span class="input-group-text" id="basic-addon1">銀行行號：</span>
                                                <select class="form-select" aria-label="下拉式選項" name="bank-id">
                                                    <option selected>003 交通銀行</option>
                                                    <option>004 台灣銀行</option>
                                                    <option>005 土地銀行</option>
                                                    <option>007 第一銀行</option>
                                                    <option>008 華南銀行</option>
                                                    <option>011 上海銀行</option>
                                                    <option>012 台北富邦</option>
                                                    <option>013 國泰世華</option>
                                                    <option>700 中華郵政</option>
                                                    <option>805 遠東銀行</option>
                                                    <option>808 玉山銀行</option>
                                                </select>
                                            </div>
                                            <div class="input-group mb-3">
                                                <span class="input-group-text" id="basic-addon1">銀行帳號:</span>
                                                <input type="text" id="company-account" class="form-control"
                                                    placeholder="" aria-label="Companyaccount"
                                                    aria-describedby="basic-addon1" required>
                                            </div>
                                            <p id="error_com_account" class="error-msg"></p>
                                            <div class="input-group mb-3">
                                                <span class="input-group-text" id="basic-addon1">廠商地址:</span>
                                                <input type="text" id="company-addr" class="form-control" placeholder=""
                                                    aria-label="Companyaccount" aria-describedby="basic-addon1"
                                                    required>
                                            </div>
                                            <p id="error_com_addr" class="error-msg"></p>
                                            <div class="input-group mb-3">
                                                <span class="input-group-text" id="basic-addon1">負責人身份證字號:</span>
                                                <input type="text" id="company-manId" class="form-control"
                                                    placeholder="" aria-label="Companyaccount"
                                                    aria-describedby="basic-addon1" required>
                                            </div>
                                            <p id="error_com_manId" class="error-msg"></p>
                                            <div class="input-group mb-3">
                                                <span class="input-group-text" id="basic-addon1">聯絡人姓名:</span>
                                                <input type="text" id="company-mann-name" class="form-control"
                                                    placeholder="" aria-label="Company_connect_name"
                                                    aria-describedby="basic-addon1" required>
                                            </div>
                                            <p id="error_com_mName" class="error-msg"></p>
                                            <div class="input-group mb-3">
                                                <span class="input-group-text" id="basic-addon1">聯絡人E-mail:</span>
                                                <input type="email" id="company-man-email" class="form-control"
                                                    placeholder="" aria-label="Company_connect_email"
                                                    aria-describedby="basic-addon1" required>
                                            </div>
                                            <p id="error_com_mEmail" class="error-msg"></p>
                                            <div class="input-group mb-3">
                                                <span class="input-group-text" id="basic-addon1">聯絡人電話：</span>
                                                <input type="text" id="company-man-phone" class="form-control"
                                                    placeholder="" aria-label="Company_connect_phone"
                                                    aria-describedby="basic-addon1" required>
                                            </div>
                                            <p id="error_com_mPhone" class="error-msg"></p>
                                            <div class="my-3">
                                                <td class="tds">驗證碼：</td>
                                                <td id="validimg">
                                                    <input type="text" name="valistr" class="my-2"
                                                        id="company-captchaInput">
                                                    <img id="company-yzm_img" src="" style="cursor: pointer" />
                                                    <span id="company-valistr_msg"></span>
                                                </td>
                                            </div>
                                            <button type="button" id="create_master_btn"
                                                class="btn-create rounded-pill w-100 btn-lg">註冊</button>
                                        </div>
                                    </div>
                                </div>
                        </nav>
                        <div class="sign-up-box">
                            <h4>已經有帳號?</h4>
                            <a href="login.html">登入</a>
                        </div>
                    </div>
                </div>

                <div class="col-xxl-7 col-xl-6 col-lg-6"></div>
            </div>
        </div>
    </section>
    <!-- log in section end -->

    <!-- Tap to top start -->
    <div class="theme-option">
        <div class="back-to-top">
            <a id="back-to-top" href="#">
                <i class="fas fa-chevron-up"></i>
            </a>
        </div>
    </div>
    <!-- Tap to top end -->

    <!-- Bg overlay Start -->
    <div class="bg-overlay"></div>
    <!-- Bg overlay End -->


    <!-- Footer Section Start -->
    <footer class="section-t-space">
        <div class="container-fluid-lg">
            <div class="main-footer section-b-space section-t-space">
                <div class="row g-md-4 g-3">
                    <div class="col-xl-4 col-lg-3 col-sm-6">
                        <div class="footer-title">
                            <h4>聯絡我們</h4>
                        </div>

                        <div class="footer-contact">
                            <ul class="address">
                                <li>
                                    <i data-feather="home"></i>
                                    <a
                                        href="https://www.google.com/maps/place/TibaMe+%E5%85%A8%E6%96%B9%E4%BD%8D%E6%95%B8%E4%BD%8D%E8%A1%8C%E9%8A%B7%E5%AF%A6%E6%88%B0%E9%A4%8A%E6%88%90%E7%8F%AD(%E5%8F%B0%E5%8C%97)/@25.0521328,121.540678,17z/data=!3m2!4b1!5s0x3442abddfc0bc85f:0x547998e4a2421286!4m6!3m5!1s0x346823c18fcb9855:0x784fb0d91b7fc01f!8m2!3d25.052128!4d121.5432529!16s%2Fg%2F11b_0002l9?authuser=0&entry=ttu">104台北市中山區南京東路三段219號5樓</a>
                                </li>
                                <li>
                                    <i data-feather="mail"></i>
                                    <a href="javascript:void(0)">support@gmail.com</a>
                                </li>
                            </ul>
                        </div>
                    </div>

                    <div class="col-xl-4 col-lg-3 col-sm-6">
                        <div class="footer-logo">
                            <div class="theme-logo">
                                <a href="index.html">
                                    <img src="assets/images/logo/2.png" class="blur-up lazyload" alt="">
                                </a>
                            </div>

                            <div class="footer-logo-contain">
                                <p>
                                    我們為毛孩與主人設計了一個揪團出遊及團購毛孩用品的交流平台，來吸引主人帶著毛小孩彼此見面交流，促進毛小孩社會化之餘，來創造話題並帶動寵物市場之商機。
                                </p>
                            </div>
                        </div>
                    </div>

                    <div class="col-xl-4 col-lg-3 col-md-4 col-sm-6">
                        <div class="footer-title">
                            <h4>免責聲明</h4>
                        </div>

                        <div class="footer-contain">
                            <ul>
                                <li>
                                    <a href="shop-left-sidebar.html" class="text-content">Vegetables & Fruit</a>
                                </li>
                                <li>
                                    <a href="shop-left-sidebar.html" class="text-content">Beverages</a>
                                </li>
                                <li>
                                    <a href="shop-left-sidebar.html" class="text-content">Meats & Seafood</a>
                                </li>
                                <li>
                                    <a href="shop-left-sidebar.html" class="text-content">Frozen Foods</a>
                                </li>
                                <li>
                                    <a href="shop-left-sidebar.html" class="text-content">Biscuits & Snacks</a>
                                </li>
                                <li>
                                    <a href="shop-left-sidebar.html" class="text-content">Grocery & Staples</a>
                                </li>
                            </ul>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </footer>
    <!-- Footer Section End -->

    <!-- latest jquery-->
    <script src="assets/js/jquery-3.6.0.min.js"></script>

    <!-- Bootstrap js-->
    <script src="assets/js/bootstrap/bootstrap.bundle.min.js"></script>
    <script src="assets/js/bootstrap/popper.min.js"></script>

    <!-- feather icon js-->
    <script src="assets/js/feather/feather.min.js"></script>
    <script src="assets/js/feather/feather-icon.js"></script>

    <!-- Slick js-->
    <script src="assets/js/slick/slick.js"></script>
    <script src="assets/js/slick/slick-animation.min.js"></script>
    <script src="assets/js/slick/custom_slick.js"></script>

    <!-- Lazyload Js -->
    <script src="assets/js/lazysizes.min.js"></script>

    <!-- script js -->
    <script src="assets/js/script.js"></script>

    <script>
        $(function () {


            // 點擊事件：當點擊 "會員註冊" 時生成驗證碼圖片
            const memberTab = document.getElementById("nav-home-tab");
            const memberCaptchaImg = document.getElementById("yzm_img");
            const member_captchaInput = document.getElementById("member-captchaInput");


            memberTab.addEventListener("click", function () {
                changeYZM(memberCaptchaImg);
            });

            document.getElementById("member-captchaInput").addEventListener('blur', function () {
                const userInput = member_captchaInput.value.trim();
                checkCaptchaAndNull(userInput, "member-valistr_msg");
            })

            memberCaptchaImg.addEventListener("click", function () {
                changeYZM(memberCaptchaImg);
            });


            // 點擊事件：當點擊 "廠商註冊" 時生成驗證碼圖片
            const companyTab = document.getElementById("nav-profile-tab");
            const companyCaptchaImg = document.getElementById("company-yzm_img");
            const company_captchaInput = document.getElementById("company-captchaInput");


            companyTab.addEventListener("click", function () {
                // console.log(companyCaptchaImg);
                changeYZM(companyCaptchaImg);
            });
            document.getElementById("company-captchaInput").addEventListener('blur', function () {
                const companyInput = company_captchaInput.value.trim();
                // console.log(companyInput);
                checkCaptchaAndNull(companyInput, "company-valistr_msg");
            })

            companyCaptchaImg.addEventListener("click", function () {
                changeYZM(companyCaptchaImg);
            });




            function initializeCaptchaImage() {
                changeYZM(memberCaptchaImg);
            }

            function changeYZM(img) {
                fetch("generate-captcha")
                    .then(response => response.blob())
                    .then(blob => {
                        console.log(blob);
                        const imgUrl = URL.createObjectURL(blob);
                        img.src = imgUrl;
                    })
                    .catch(error => console.error("Error fetching captcha:", error));
            }


            initializeCaptchaImage();

            function checkCaptchaAndNull(inputValue, errorMsgId) {
                // console.log(inputValue);
                const valistrMsg = document.getElementById(errorMsgId);
                if (inputValue === "") {

                    valistrMsg.textContent = "驗證碼不能為空！";
                    valistrMsg.style.color = "red";
                } else {

                    fetch("check-captcha", {
                        method: "POST",
                        headers: {
                            "Content-Type": "application/json",
                        },
                        body: JSON.stringify({
                            userInput: inputValue,
                        }),
                    })
                        .then((response) => response.json())
                        .then((data) => {

                            if (data.valid) {

                                valistrMsg.textContent = "";
                            } else {

                                valistrMsg.textContent = "驗證碼不正確！";
                                valistrMsg.style.color = "red";

                            }
                        })
                        .catch((error) => {
                            console.error("Error checking captcha:", error);
                        });
                }
            }



            //  =================   清空錯誤訊息    ======================
            $("#nav-profile-tab").on("click", function () {
                $("div#error-messages").text("");
            })

            //  =================   註冊廠商資料    ======================

            $("#create_master_btn").on("click", function () {
                // console.log("123");
                let companyGui = $("#company-gui").val();
                let companyName = $("#company-name").val();
                let companyPwd = $("#company-pwd").val();
                let companyPwd2 = $("#company-pwd2").val();
                let bankId = $("select[name='bank-id']").val();
                let companyAccount = $("#company-account").val();
                let companyAddr = $("#company-addr").val();
                let companyManId = $("#company-manId").val();
                let companyManName = $("#company-mann-name").val();
                let companyManEmail = $("#company-man-email").val();
                let companyManPhone = $("#company-man-phone").val();

                if (companyGui === "") {
                    $("#error_gui").text("廠商帳號(統一編號)不可為空！").css("color", "red");
                } else {
                    $('error_gui').text = ''; // 清除錯誤訊息
                }

                if (companyName === "") {
                    $("#error_company_name").text("公司名稱不可為空！").css("color", "red");
                } else {
                    $('error_company_name').text = ''; // 清除錯誤訊息
                }

                let passwordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,}$/;

                if (!passwordRegex.test(companyPwd)) {
                    $("#error_com_pwd").text("密碼必須至少包含8個字符，並且包含至少一個大寫字母、一個小寫字母和一個數字").css("color", "red");
                } else if (companyPwd === "") {
                    $("#error_com_pwd").text("密碼不可空白").css("color", "red");
                } else {
                    $('error_com_pwd').text = ''; // 清除錯誤訊息
                }

                if (companyPwd2 === "") {
                    $("#error_com_pwd2").text("密碼不可為空").css("color", "red");
                } else if (companyPwd !== companyPwd2) {
                    $("#error_com_pwd2").text("兩次輸入的密碼不相同").css("color", "red");
                } else {
                    $('error_com_pwd2').text = ''; // 清除錯誤訊息
                }

                let accountPattern = /^[0-9]{6,}$/; // 正則表達式：6位以上的數字
                // 檢查銀行帳號是否為空
                if (companyAccount === "") {
                    $("#error_com_account").text("銀行帳號不可為空").css("color", "red");
                    ;
                } else if (!accountPattern.test(companyAccount)) {
                    // 檢查是否符合正則表達式
                    $("#error_com_account").text("銀行帳號格式不正確").css("color", "red");
                    ;
                } else {
                    $('error_com_account').text = ''; // 清除錯誤訊息
                }

                if (companyAddr.trim() === "") {
                    $("#error_com_addr").text("廠商地址不可為空白").css("color", "red");
                    ;
                } else {
                    $('error_com_addr').text = ''; // 清除錯誤訊息
                }

                if (companyManId.trim() === "") {
                    $("#error_com_manId").text("負責人身份證字號不可為空白").css("color", "red");
                } else {
                    // 正則表達式驗證
                    let regex = /^[A-Z]\d{9}$/;
                    if (!regex.test(companyManId)) {
                        $("#error_com_manId").text("負責人身份證字號格式不正確").css("color", "red");
                    }
                    $('error_com_manId').text = ''; // 清除錯誤訊息
                }

                if (companyManName.trim() === "") {
                    $("#error_com_mName").text("聯絡人姓名不可為空白").css("color", "red");
                } else {
                    // 正則表達式驗證
                    let regex = /^[\u4e00-\u9fa5a-zA-Z]+$/;
                    if (!regex.test(companyManName)) {
                        $("#error_com_mName").text("聯絡人姓名格式不正確").css("color", "red");
                    }
                    $('error_com_mName').text = ''; // 清除錯誤訊息
                }

                if (companyManEmail.trim() === "") {
                    $("#error_com_mEmail").text("聯絡人E-mail不可為空白").css("color", "red");
                } else {
                    // 正則表達式驗證
                    let regex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
                    if (!regex.test(companyManEmail)) {
                        $("#error_com_mEmail").text("聯絡人E-mail格式不正確").css("color", "red");
                    }
                    $('error_com_mEmail').text = ''; // 清除錯誤訊息
                }

                if (companyManPhone.trim() === "") {
                    $("#error_com_mPhone").text("聯絡人電話不可為空白").css("color", "red");
                } else {
                    // 正則表達式驗證
                    let regex = /^[0-9]{10}$/;
                    if (!regex.test(companyManPhone)) {
                        $("#error_com_mPhone").text("聯絡人電話格式不正確").css("color", "red");
                    }
                    $('error_com_mPhone').text = ''; // 清除錯誤訊息
                }


                // console.log(bankId);
                if (bankId === "003 交通銀行") {
                    bankId = '1';
                }
                else if (bankId === "004 台灣銀行") {
                    bankId = '2';
                }
                else if (bankId === "005 土地銀行") {
                    bankId = '3';
                }
                else if (bankId === "007 第一銀行") {
                    bankId = '4';
                }
                else if (bankId === "008 華南銀行") {
                    bankId = '5';
                }
                else if (bankId === "011 上海銀行") {
                    bankId = '6';
                }
                else if (bankId === "012 富邦銀行") {
                    bankId = '7';
                }
                else if (bankId === "013 國泰世華") {
                    bankId = '8';
                } else if (bankId === "700 中華郵政") {
                    bankId = '9';
                } else if (bankId === "805 遠東銀行") {
                    bankId = '10';
                } else if (bankId === "808 玉山銀行") {
                    bankId = '11';
                }
                const paragraphs = document.querySelectorAll('.error-msg');
                let allEmpty = true;

                for (let i = 0; i < paragraphs.length; i++) {
                    if (paragraphs[i].innerText.trim() !== '') {
                        // console.log(paragraphs[i].innerText);
                        allEmpty = false;
                        break;
                    }
                }

                if (allEmpty) {
                    fetch("registerMaster", {
                        method: "POST",
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({
                            mName: companyName,
                            mPwd: companyPwd,
                            mGui: companyGui,
                            mBankName: bankId,
                            mBankId: companyAccount,
                            mAddress: companyAddr,
                            mManId: companyManId,
                            mManName: companyManName,
                            mEmail: companyManEmail,
                            mPhone: companyManPhone

                        }),
                    })
                        .then(response => response.json())
                        .then(data => {
                            alert("註冊成功，按下確認後，跳到登入畫面");
                            // setTimeout("location.href='http://localhost:8081/TirTirCat/login.html'",3000); // 3秒後跳轉頁面
                            // location.href = "login.html";
                        })
                        .catch(error => {
                            console.log("請求錯誤");
                        });
                } else {
                    var inputs = document.getElementsByTagName("input");
                    for (var i = 0; i < inputs.length; i++) {
                        let index = i;
                        inputs[i].addEventListener("click", function () {
                            removeAllErrorMessages();
                        });
                    }
                    console.log("至少有一個 <p> 標籤有文字內容");
                }
                // 在外部一次性移除所有錯誤訊息
                function removeAllErrorMessages() {
                    for (let i = 0; i < paragraphs.length; i++) {
                        paragraphs[i].innerText = "";
                    }
                }
            });

            // ============== 註冊會員資料  ===========================

            const datePicker = document.getElementById('member_birth');
            const today = new Date();
            const year = today.getFullYear();
            const month = (today.getMonth() + 1).toString().padStart(2, '0'); // 因為月份是從0開始，所以需要+1
            const day = today.getDate().toString().padStart(2, '0');

            const dateString = `${year}-${month}-${day}`;
            datePicker.max = dateString;
            datePicker.value = dateString;

            $("#create_member_btn").on("click", function () {
                let email_el = $("#member_email").val();
                let pwd_el = $("#member_pwd").val();
                let pwd2_el = $("#member_pwd2").val();
                let name_el = $("#member_name").val();
                let phone_el = $("#member_phone").val();
                let gender_el = $("#member_gender").val();
                let birth_el = $("#member_birth").val();
                let addr_el = $("#member_addr").val();
                let about_el = $("#aboutMe").val();


                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                if (email_el.trim() === '' || !emailRegex.test(email_el)) {
                    document.getElementById('error_email').style.color = "red";
                    document.getElementById('error_email').innerText = '請輸入有效的電子郵件地址';

                } else {
                    document.getElementById('error_email').innerText = ''; // 清除錯誤訊息
                }

                const passwordRegex = /^[A-Za-z0-9!@#$%^&*()_]{6,12}$/;
                if (pwd_el.trim() === '' || !passwordRegex.test(pwd_el)) {
                    document.getElementById('error_pwd').style.color = "red";
                    document.getElementById('error_pwd').innerText = '密碼長度須介於6~12字元，且只能包含英文數字和特殊字元 !@#$%^&*()_';

                } else {
                    document.getElementById('error_pwd').innerText = ''; // 清除錯誤訊息
                }

                if (pwd2_el !== pwd_el) {
                    document.getElementById('error_pwd2').style.color = "red";
                    document.getElementById('error_pwd2').innerText = '密碼與確認密碼不相符';

                } else {
                    document.getElementById('error_pwd2').innerText = ''; // 清除錯誤訊息
                }

                // 正則表達式驗證姓名格式
                const namePattern = /^[\u4e00-\u9fa5a-zA-Z]+$/;
                if (!namePattern.test(name_el)) {
                    document.getElementById('error_name').style.color = "red";
                    document.getElementById('error_name').innerText = '姓名格式不正確';

                } else {
                    document.getElementById('error_name').innerText = ''; // 清除錯誤訊息
                }

                if (phone_el.trim() === '') {
                    document.getElementById('error_phone').style.color = "red";
                    document.getElementById('error_phone').innerText = '手機不得為空';

                } else {
                    document.getElementById('error_phone').innerText = ''; // 清除錯誤訊息
                }

                // 正則表達式驗證手機格式
                const phonePattern = /^09\d{8}$/;
                if (!phonePattern.test(phone_el)) {
                    document.getElementById('error_phone').style.color = "red";
                    document.getElementById('error_phone').innerText = '手機格式不正確';

                } else {
                    document.getElementById('error_phone').innerText = ''; // 清除錯誤訊息
                }

                if (addr_el.trim() === '') {
                    document.getElementById('error_addr').style.color = "red";
                    document.getElementById('error_addr').innerText = '地址不得為空';
                } else {
                    document.getElementById('error_addr').innerText = ''; // 清除錯誤訊息
                }

                // console.log(document.getElementsByTagName('p')[0].innerText);

                const paragraphs = document.querySelectorAll('.error-msg');
                let allEmpty = true;

                for (let i = 0; i < paragraphs.length; i++) {
                    if (paragraphs[i].innerText.trim() !== '') {
                        console.log(paragraphs[i].innerText);
                        allEmpty = false;
                        break;
                    }
                }

                if (allEmpty) {
                    fetch("register", {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({
                            uEmail: email_el,
                            uPwd: pwd_el,
                            password2: pwd2_el,
                            uName: name_el,
                            uPhone: phone_el,
                            uGender: gender_el,
                            uBirth: birth_el,
                            uAddress: addr_el,
                            uAbout: about_el
                        })
                    })
                        .then(resp => resp.json())
                        .then(data => {

                            alert("註冊成功，按下確認後，跳到登入畫面");
                            // setTimeout("location.href='http://localhost:8081/TirTirCat/login.html'",3000); // 3秒後跳轉頁面
                            location.href = "login.html";

                        })
                        .catch(error => {
                            document.getElementById('error_email').style.color = "red";
                            document.getElementById('error_email').innerText = '帳號重複';
                        });
                } else {
                    var inputs = document.getElementsByTagName("input");
                    for (var i = 0; i < inputs.length; i++) {
                        let index = i;
                        inputs[i].addEventListener("click", function () {
                            removeAllErrorMessages();
                        });
                    }
                    console.log("至少有一個 <p> 標籤有文字內容");
                }
                // 在外部一次性移除所有錯誤訊息
                function removeAllErrorMessages() {
                    for (let i = 0; i < paragraphs.length; i++) {
                        paragraphs[i].innerText = "";
                    }
                }
            });
        });



    </script>
</body>

</html>